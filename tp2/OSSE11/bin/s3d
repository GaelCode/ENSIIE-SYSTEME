#!/bin/bash

if [ $# -ne 3 ]; then
    echo "usage: $0 dir1 dir2 dir3" >&2
    exit 1
fi

count_files() {
    dir="$1"
    find "$dir" -type f 2>/dev/null | wc -l
}

dirs=""
for d in "$@"; do
    if [ ! -d "$d" ]; then
        echo "error: '$d' does not exist or is not a directory" >&2
        exit 2
    fi
    n=$(count_files "$d")
    dirs="$dirs$n $d\n"
done

printf "$dirs" | sort -n | awk '{print $2}' # awk '{print $2}' affiche que le nom
exit 0